<!doctype html>
<html lang="">
<head>
    <title>Game 2</title>
    <link rel="stylesheet" href="fontawesome/css/fontawesome-all.min.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="base.css" />
    <link rel="stylesheet" type="text/css" href="buttons.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="game2.css">
</head>
<body>
<div class="choose">
    <div class="Tic">
        <img src="http://x-lines.ru/letters/i/cyrillicdreamy/0869/5b5be6/52/0/ktwsgenwcft1yidxcw.png">
    </div>
    <div class="p2">
        <p class="ch">Choose the first mark:</p><div class="dx"> <i class="fas in_m fa-times fa-6x"></i></div><p class="ch">or</p><div class="do"> <i class="far fa-circle in_m fa-6x"></i></div>
    </div>
    <div class="ch_pole">
        <div class="pole po1" val="3">3x3</div>
        <div class="pole po2" val="4">4x4</div>
        <div class="pole po3" val="5">5x5</div>
        <div class="pole po4" val="6">6x6</div>
        <div class="pole po5" val="7">7x7</div>
        <div class="pole po6" val="8">8x8</div>
        <div class="pole po7" val="9">9x9</div>
        <div class="pole po8" val="10">10x10</div>
    </div>
    <div class="p1">
        <button class="button button--moema button--border-thick button--size-s">Play vs friend</button>
    </div>
</div>
</div>
<div class="main">

</div>
<script>
    $(function() {
        var chacked;
        var line_num;
        $('.dx').click(function () {
            chacked = true;
            $(this).css('border','1px solid #fff').css('border-radius','10px');
            $('.do').css('border','0px');
        });
        $('.do').click(function () {
            chacked = false;
            $(this).css('border','1px solid #fff').css('border-radius','10px');
            $('.dx').css('border','0px');
        });
         $('.pole').click(function () {
            line_num = $(this).attr('val');
             console.log(line_num);
            $(this).addClass('po_checked');
        });
        $('.button').click(function () {
            if(line_num >=3 && line_num<=10){
                $('.choose').css('display','none');
                $('.main').css('display','grid');
                $('.main').addClass('m'+line_num);
                for(var i=0; i<line_num*line_num;i++){
					$('.main').html(function(){
						$(this).html($(this).html() + '<div class="click"></div>');
					});					
                    $('.click:nth-child(' + i + ')').attr('value',i);
                    console.log(
                        $('.click').attr('value')
                    );
					$('.click').click(function () {
						if(chacked === true){
							if(line_num<6){
								$(this).html('<i class="fas in_m fa-times fa-8x"></i>');
							}
							else if(line_num<4){
								$(this).html('<i class="fas in_m fa-times fa-6x"></i>');
							}
							else{
								$(this).html('<i class="fas in_m fa-times fa-4x"></i>');
							}
							chacked = false;
						}						
						else if(chacked === false){
							if(line_num<6){
								$(this).html('<i class="far fa-circle in_m fa-8x"></i>');
							}
							else if(line_num<4){
								$(this).html('<i class="far fa-circle in_m fa-6x"></i>');
							}							
							else{
								$(this).html('<i class="far fa-circle in_m fa-4x"></i>');
							}							
							chacked = true;
						}	
					});
                };
            }
            else{
                alert("You don't choose your square!");
            }
        });
    });
   
</script>
</body>
</html>